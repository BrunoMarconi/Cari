<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Nuestro Aniversario: El Mix de Amor</title>

    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@300;600&display=swap" rel="stylesheet">

    <style>
        :root{
            --bg1: #ffeef6;
            --bg2: #f8e9ff;
            --accent: #d81b60;
            --accent-dark: #880e4f;
            --card: rgba(255,255,255,0.95);
            --muted: #6a1b9a;
            --button: #ff6e40;
            --button-hover: #ff3d00;
        }

        html { scroll-behavior: smooth; }
        body {
            font-family: 'Poppins', sans-serif;
            margin: 0;
            min-height: 100vh;
            /* Si quieres a√±adir un fondo: background-image: url('fondo.jpg'); */
            background-size: cover;
            background-attachment: fixed;
            background-position: center;
            background-color: var(--bg1);
            color: var(--accent-dark);
        }

        /* HEADER / NAV */
        header {
            position: sticky;
            top: 0;
            z-index: 40;
            backdrop-filter: blur(6px);
            background: linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.7));
            border-bottom: 1px solid rgba(136,14,79,0.04);
        }
        .topbar {
            max-width: 1100px;
            margin: 8px auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 10px 18px;
            gap: 12px;
        }
        .brand {
            display:flex;
            align-items:center;
            gap:12px;
        }
        .brand h1 {
            margin: 0;
            font-family: 'Great Vibes', cursive;
            color: var(--accent);
            font-size: 1.6rem;
            line-height:1;
        }
        nav {
            display:flex;
            gap:10px;
            align-items:center;
            flex-wrap: wrap; /* Para m√≥viles */
            justify-content: flex-end;
        }
        nav a {
            text-decoration: none;
            color: #5e2a71;
            padding: 8px 12px;
            border-radius: 999px;
            font-weight:600;
            transition: background .18s, color .18s, transform .12s;
            white-space: nowrap; /* Evita que el texto de los enlaces se rompa */
        }
        nav a:hover, nav a:focus {
            background: rgba(216,27,96,0.08);
            color: var(--accent-dark);
            transform: translateY(-2px);
        }

        /* LAYOUT: grid with varied positions */
        main {
            max-width: 1100px;
            margin: 28px auto;
            padding: 0 16px 40px;
            display: grid;
            grid-template-columns: 1fr;
            gap: 18px;
            align-items: start;
        }

        @media (min-width: 860px) {
            main {
                grid-template-columns: 1fr 1fr;
                grid-template-areas:
                    "intro intro"
                    "tiempo plan"
                    "secreto secreto"
                    "album album"; /* Nueva √°rea para el √°lbum */
            }
            .intro { grid-area: intro; }
            .tiempo { grid-area: tiempo; }
            .plan { grid-area: plan; }
            .secreto-section { grid-area: secreto; }
            .album-section { grid-area: album; } /* El √°lbum ocupa todo el ancho */
        }

        .seccion {
            background: var(--card);
            padding: 22px;
            border-radius: 12px;
            box-shadow: 0 6px 20px rgba(97,26,116,0.06);
        }

        /* ESTILOS ESPEC√çFICOS DE LAS SECCIONES */
        .intro { display:flex; gap:16px; align-items:center; justify-content:space-between; }
        .intro .texto { flex:1; }
        .intro .imagen {
            width:140px;
            height:110px;
            border-radius:10px;
            /* ahora usa la foto de fondo.jpg */
            background: linear-gradient(135deg, rgba(255,255,255,0.12), rgba(0,0,0,0.08)), url('fondo.jpg');
            background-size: cover;
            background-position: center;
            display:flex;
            align-items:center;
            justify-content:center;
            font-size:2.2rem;
            color: transparent; /* no mostrar emoji si queda contenido */
            box-shadow: 0 8px 24px rgba(216,27,96,0.06);
        }

        h1 { 
            color: var(--accent); 
            font-family: 'Great Vibes', cursive;
            font-size: 2.2em;
            margin:0;
        } 
        h2 { margin:0 0 8px 0; color:var(--accent); font-size:1.1rem; }
        h3 { 
            margin-top: 20px;
            margin-bottom: 5px;
            color: var(--accent-dark);
            font-size: 1.4rem;
            font-family: 'Poppins', system-ui, sans-serif;
            border-bottom: 2px solid rgba(216, 27, 96, 0.1);
            padding-bottom: 5px;
        }


        /* contador en bloque */
        #contador {
            display:flex;
            gap:10px;
            flex-wrap:wrap;
            margin-top:10px;
        }
        .bloque {
            background: linear-gradient(180deg, rgba(255,255,255,0.98), rgba(255,255,255,0.92));
            border-radius:8px;
            padding:10px 12px;
            min-width:90px;
            text-align:center;
            box-shadow: 0 6px 18px rgba(121, 33, 120, 0.04);
        }
        .bloque .num { font-weight:700; font-size:1.1rem; color:var(--accent-dark) }
        .bloque .lbl { font-size:0.75rem; color:#6a1b9a; margin-top:6px }

        #mensaje-cita { margin-top:8px; min-height:38px; color:#4a148c; font-weight:600 }

        button {
            background-color: var(--button);
            color: white;
            border: none;
            padding: 10px 18px;
            border-radius: 20px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.12s;
            font-size: 1em;
        }
        button:hover { 
            background-color: var(--button-hover);
            transform: translateY(-3px);
        }

        /* opciones para planes */
        .filtros { display:flex; gap:8px; flex-wrap:wrap; margin-top:12px; justify-content:flex-start; }
        .filtros button { padding:6px 10px; border-radius:999px; font-size:0.9rem; background:transparent; border:1px solid rgba(94,42,113,0.06); color:#5e2a71; }
        .filtros button.filtro-activo { background-color: var(--accent); color:white; border-color:var(--accent); }

        .opciones-grid { 
            display: none !important; /* ocultar las tarjetas de opciones; filtros y bot√≥n aleatorio siguen funcionando */
            grid-template-columns: 1fr 1fr;
            gap:10px; margin-top:12px;
        }
        .opcion { text-align:left; background: linear-gradient(180deg, rgba(255,255,255,0.98), rgba(255,255,255,0.94)); padding:10px 12px; border-radius:10px; cursor:pointer; border:1px solid rgba(140,54,150,0.06); }
        .opcion:hover { transform: translateY(-4px); box-shadow: 0 12px 30px rgba(97,26,116,0.06); }
        .opcion .meta { font-size:0.78rem; color:#7b1fa2; margin-bottom:6px; font-weight:600 }
        .opcion .texto { color:#4a148c; font-size:0.95rem }
        @media (max-width:720px){ .opciones-grid { grid-template-columns: 1fr } }

        /* --- ESTILOS DE GALER√çA (NUEVO) --- */
        .galeria {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
            margin-top: 15px;
        }
        .galeria img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s;
        }
        .galeria img:hover {
            transform: scale(1.03);
        }
        .album-aniversario {
             padding-top: 15px; /* Para asegurar el espacio al hacer scroll */
        }
    </style>
</head>
<body>

    <header>
        <div class="topbar">
            <div class="brand">
                <div class="imagen-mini" aria-hidden="true" style="width:48px;height:48px;border-radius:10px;background:linear-gradient(135deg,#ffd8ea,#f8e9ff);display:flex;align-items:center;justify-content:center;color:var(--accent-dark);font-weight:700;">‚ô•</div>
                <h1 style="font-size:1.1rem">Nuestro Aniversario</h1>
            </div>

            <nav aria-label="Navegaci√≥n principal">
                <a href="#intro">Inicio</a>
                <a href="#tiempo">Tiempo</a>
                <a href="#plan">Plan</a>
                <a href="#secreto-section">Secreto</a>
                <a href="#album-section" onclick="scrollToAnniversary('aniversario1')">1er Aniversario</a>
                <a href="#album-section" onclick="scrollToAnniversary('aniversario2')">2¬∫ Aniversario</a>
            </nav>
        </div>
    </header>

    <main>
        <section id="intro" class="seccion intro">
            <div class="texto">
                <h2>¬°Feliz 2¬∫ Aniversario, Mi Amor!</h2>
                <p>Este es nuestro regalo digital: un poco de todo, como t√∫ y yo. Gracias por cada momento compartido.</p>
            </div>
            <div class="imagen" aria-hidden="true" role="img" aria-label="Foto de aniversario"></div>
        </section>

        <section id="tiempo" class="seccion tiempo">
            <h2>Tiempo Juntos ü•Ç</h2>
            <p>Desde el d√≠a que dijimos "s√≠", han pasado...</p>
            <div id="contador" aria-live="polite">
                <div class="bloque"><div class="num" id="a√±os">--</div><div class="lbl">A√±os</div></div>
                <div class="bloque"><div class="num" id="dias">--</div><div class="lbl">D√≠as</div></div>
                <div class="bloque"><div class="num" id="horas">--</div><div class="lbl">Horas</div></div>
                <div class="bloque"><div class="num" id="minutos">--</div><div class="lbl">Minutos</div></div>
                <div class="bloque"><div class="num" id="segundos">--</div><div class="lbl">Segundos</div></div>
            </div>
        </section>

        <section id="plan" class="seccion plan">
            <h2>Nuestro Pr√≥ximo Plan ‚ú®</h2>
            <p>Haz clic para que el destino elija nuestra pr√≥xima aventura:</p>

            <div class="filtros" aria-hidden="true">
                <button data-cat="inmediata" class="filtro-activo">Interacci√≥n inmediata</button>
                <button data-cat="proxima">Pr√≥xima vez</button>
                <button data-cat="tonterias">Tonter√≠as</button>
                <button data-cat="todas">Todas</button>
            </div>

            <div id="mensaje-cita" style="margin-top:8px; min-height:48px;">Esperando tu elecci√≥n...</div>

            <div class="opciones-grid" id="opciones-container" aria-live="polite" style="margin-top:10px;">
                </div>

            <div style="margin-top:12px;">
                <button id="boton-aleatorio">Elegir aleatorio</button>
            </div>
        </section>

        <section id="secreto-section" class="seccion secreto-section">
            <h2>Mensaje Secreto (Para el Final)</h2>
            <p>Aqu√≠ hay una √∫ltima sorpresa escondida:</p>
            <div style="margin-top:10px;">
                <button onclick="revelarMensaje()">Revelar Mensaje</button>
            </div>
            <p id="secreto" style="display: none; color: #880e4f; font-style: italic; margin-top: 15px;">
                ¬°Te amo m√°s que a todos los bugs del mundo! Eres el c√≥digo mejor escrito que he conocido. ‚ù§Ô∏è
            </p>
        </section>

        <section id="album-section" class="seccion album-section">
            <h2>Nuestro √Ålbum de Fotos ü•∞</h2>
            <p>Navega a trav√©s de nuestros recuerdos. Haz clic en el men√∫ de arriba para ir al aniversario que quieras.</p>

            <div class="album-aniversario" id="aniversario1">
                <h3>Primer Aniversario: Nuestro Primer Viaje</h3>
                <p>Recuerdos de nuestro primer a√±o. El inicio de todo lo bueno.</p>
                <div class="galeria">
                    <img src="fotos/1/f1.jpg" alt="Foto Primer Aniversario 1">
                    <img src="fotos/1/f2.jpg" alt="Foto Primer Aniversario 2">
                    <img src="fotos/1/f3.jpg" alt="Foto Primer Aniversario 3">
                </div>
            </div>

            <div class="album-aniversario" id="aniversario2" style="margin-top: 30px;">
                <h3>Segundo Aniversario: [Lugar de Celebraci√≥n]</h3>
                <p>¬°Dos a√±os y contando! Sigamos creando historias incre√≠bles.</p>
                <div class="galeria">
                    <img src="fotos/2/g1.jpg" alt="Foto Segundo Aniversario 1">
                    <img src="fotos/2/g2.jpg" alt="Foto Segundo Aniversario 2">
                    <img src="fotos/2/g3.jpg" alt="Foto Segundo Aniversario 3">
                </div>
            </div>
        </section>
        
    </main>

    <script>
        // **********************************************
        // 1. L√ìGICA DEL CONTADOR
        // **********************************************
        // IMPORTANTE: ¬°CAMBIA ESTA FECHA POR LA SUYA! Formato AAAA-MM-DDTHH:MM:SS
        const fechaInicio = new Date('2023-11-17T21:58:00'); 

        function actualizarContador() {
            const ahora = new Date();
            const diferencia = ahora - fechaInicio;

            const segundos = Math.floor(diferencia / 1000);
            const minutos = Math.floor(segundos / 60);
            const horas = Math.floor(minutos / 60);
            const dias = Math.floor(horas / 24);
            const a√±os = Math.floor(dias / 365.25); 

            const diasRestantes = Math.floor(dias - a√±os * 365.25);
            const horasRestantes = horas % 24;
            const minutosRestantes = minutos % 60;
            const segundosRestantes = segundos % 60;

            document.getElementById('a√±os').textContent = a√±os;
            document.getElementById('dias').textContent = diasRestantes;
            document.getElementById('horas').textContent = String(horasRestantes).padStart(2,'0');
            document.getElementById('minutos').textContent = String(minutosRestantes).padStart(2,'0');
            document.getElementById('segundos').textContent = String(segundosRestantes).padStart(2,'0');
        }

        actualizarContador();
        setInterval(actualizarContador, 1000);


        // **********************************************
        // 2. L√ìGICA DEL SELECTOR DE CITAS Y OPCIONES
        // **********************************************
        const opciones_inmediata = [
            "Misi√≥n: Te toca elegir una canci√≥n en YouTube, y la escuchamos los dos al mismo tiempo, sin decir nada.",
            "Vale por: Una llamada sorpresa de 5 minutos, ahora mismo, para escuchar solo tu voz suave.",
            "Plan: Manda un pin en Google Maps de d√≥nde te gustar√≠a que fuera nuestra pr√≥xima cita real.",
            "Reto: B√∫scame la foto m√°s graciosa que tengas de m√≠ y env√≠amela sin explicaci√≥n. Yo har√© lo mismo.",
            "Misi√≥n: Escribe 3 cosas que te hagan feliz en este momento. M√°ndamelas en 5 minutos.",
            "Vale por: Te escribo una mini-carta de 3 frases cont√°ndote lo que amo de tu voz.",
            "Plan: Vamos a ver el tr√°iler de la pel√≠cula que m√°s ilusi√≥n te haga ver este a√±o.",
            "Reto: Dime qu√© parte de ti admiro m√°s. Pi√©nsalo y escr√≠belo en una sola frase.",
        ];

        const opciones_proxima = [
            "Vale por: Un masaje de cuello y hombros de 10 minutos (sin quejas, por favor).",
            "Promesa: La pr√≥xima vez que nos veamos, te har√© tu plato favorito (aunque sea solo tostadas).",
            "Misi√≥n: Abrazos ilimitados. El pr√≥ximo abrazo debe durar, al menos, 30 segundos.",
            "Vale por: Te permito robar mi sudadera/camiseta favorita (y te la llevas a casa).",
            "Cita: La pr√≥xima vez, te elijo un postre s√∫per azucarado y lo devoramos juntos.",
            "Plan: Noche de cine con todos tus snacks favoritos (yo voy al s√∫per).",
            "Promesa: Te dar√© la mano todo el tiempo que caminemos juntos.",
            "Misi√≥n: Vamos a ir a ese sitio que te gusta tanto y que a m√≠ no tanto... y me callo. üòâ",
            "Vale por: Un vale de 24 horas sin criticar (ni a ti, ni a m√≠, ni a nadie)."
        ];

        const opciones_tonterias = [
            "Recordatorio: Eres mi persona favorita. Siempre.",
            "¬°Alerta! Tu novio te ama m√°s de lo que crees. Mucho m√°s.",
            "Plan: Hoy tienes que mirar al cielo y pensar en m√≠. Lo mismo har√© yo.",
            "Vale por: Un minuto entero de besos la pr√≥xima vez que te vea.",
            "Mensaje: Eres la mejor parte de mi d√≠a, todos los d√≠as.",
            "Misi√≥n: ¬°Tienes que sonre√≠r justo ahora!",
            "Recordatorio: Tu sonrisa es mi cosa favorita en el mundo entero.",
            "Mensaje: Te amo por tu [inserta una cualidad espec√≠fica, ej: honestidad].",
            "Recordatorio: Eres un c√≥digo bien escrito, sin bugs, y muy hermoso.",
            "Misi√≥n: Dibuja un coraz√≥n en el primer papel que encuentres.",
            "Mensaje: Gracias por ser mi hogar, mi aventura y mi paz. ¬°Feliz Aniversario!"
        ];

        const todasOpciones = [...opciones_inmediata, ...opciones_proxima, ...opciones_tonterias];

        const contenedorOpciones = document.getElementById('opciones-container');
        const mensajeCita = document.getElementById('mensaje-cita');

        function crearOpcion(text, categoria){
            const div = document.createElement('div');
            div.className = 'opcion';
            div.tabIndex = 0;
            div.dataset.cat = categoria;
            div.innerHTML = `<div class="meta">${categoria === 'inmediata' ? 'Inmediata' : categoria === 'proxima' ? 'Pr√≥xima vez' : 'Tonter√≠a'}</div><div class="texto">${text}</div>`;
            div.addEventListener('click', ()=> { mensajeCita.textContent = text; window.scrollTo({top: document.getElementById('plan').offsetTop - 80, behavior:'smooth'}); });
            div.addEventListener('keypress', (e)=> { if(e.key === 'Enter') div.click(); });
            return div;
        }

        function renderOpciones(categoria){
            contenedorOpciones.innerHTML = '';
            let lista = [];
            if(categoria === 'inmediata') lista = opciones_inmediata;
            else if(categoria === 'proxima') lista = opciones_proxima;
            else if(categoria === 'tonterias') lista = opciones_tonterias;
            else lista = todasOpciones;
            
            lista.forEach(item => contenedorOpciones.appendChild(crearOpcion(item, categoria === 'todas' ? detectCategoria(item) : categoria)));
            contenedorOpciones.style.display = 'grid'; // Asegura que se muestren
        }

        function detectCategoria(text){
            if(opciones_inmediata.includes(text)) return 'inmediata';
            if(opciones_proxima.includes(text)) return 'proxima';
            return 'tonterias';
        }

        renderOpciones('inmediata');

        document.querySelectorAll('.filtros button').forEach(btn=>{
            btn.addEventListener('click', ()=>{
                document.querySelectorAll('.filtros button').forEach(b=>b.classList.remove('filtro-activo'));
                btn.classList.add('filtro-activo');
                const cat = btn.dataset.cat;
                renderOpciones(cat);
            });
        });

        function getActiveCategory(){
            const btn = document.querySelector('.filtros button.filtro-activo');
            return btn ? btn.dataset.cat : 'todas';
        }

        function opcionesPorCategoria(cat){
            if(cat === 'inmediata') return opciones_inmediata;
            if(cat === 'proxima') return opciones_proxima;
            if(cat === 'tonterias') return opciones_tonterias;
            return todasOpciones;
        }

        document.getElementById('boton-aleatorio').addEventListener('click', ()=>{
            const cat = getActiveCategory();
            const lista = opcionesPorCategoria(cat);
            if(!lista.length) return;
            const idx = Math.floor(Math.random() * lista.length);
            mensajeCita.textContent = lista[idx];
        });

        // **********************************************
        // 3. L√ìGICA DEL MENSAJE SECRETO
        // **********************************************
        function revelarMensaje() {
            const mensaje = document.getElementById('secreto');
            if (mensaje.style.display === 'none') {
                mensaje.style.display = 'block';
            } else {
                mensaje.style.display = 'none';
            }
        }

        // **********************************************
        // 4. L√ìGICA DEL √ÅLBUM Y SCROLL
        // **********************************************

        function scrollToAnniversary(idAniversario) {
            // 1. Navega a la secci√≥n general para asegurar que est√© visible
            window.scrollTo({
                top: document.getElementById('album-section').offsetTop - 60, 
                behavior: 'smooth'
            });

            // 2. Espera un momento y navega al apartado espec√≠fico del √°lbum
            setTimeout(() => {
                const elemento = document.getElementById(idAniversario);
                if (elemento) {
                    elemento.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            }, 400); 
        }
    </script>

</body>
</html>
